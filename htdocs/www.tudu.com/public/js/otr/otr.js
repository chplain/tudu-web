var OTR={version:"1.0.0"};OTR.Util={versionCompare:function(g,f){var c=g.split("."),b=f.split(".");var e=0,a=c.length,d=b.length;for(e;e<a;e++){if(e==d){return 1}if(c[e]==b[e]){continue}else{return c[e]>b[e]?1:-1}}return 0},ucFirst:function(a){if(!OTR.Util.isString(a)||!a.length){return a}},trim:function(a){return a.replace(/^\s+|\s+$/g,"")},inArray:function(c,d){if(typeof d.indexOf=="function"){return -1!=d.indexOf(c)}for(var b=0,a=d.length;b<a;b++){if(c==d[b]){return true}}return false},formatDate:(function(){var a=["yyyy","yy","mm","m","dd","d","h","hh","i","s"];return function(d,o){if(!d instanceof Date||!d.getFullYear){return""}var m,b,h=o;for(var g=0,k=a.length;g<k;g++){m=a[g];if(o.indexOf(m)!=-1){switch(m){case"yyyy":case"yy":b=d.getFullYear();break;case"mm":case"m":b=d.getMonth()+1;break;case"dd":case"d":b=d.getDate();break;case"h":b=d.getHours();break;case"i":b=d.getMinutes();break;case"s":b=d.getSeconds();break}if(g<=5){b=b+"";if(b.length<m.length){var n=[],f,e;for(f=0,e=m.length-b.length;f<e;f++){n.push("0")}n.push(b);b=n.join("")}}h=h.replace(m,b)}}return h}})(),isObject:function(a){return a&&typeof(a)=="object"},isArray:function(a){return a&&-1!=a.constructor.toString().indexOf("function Array")},isFunction:function(a){return typeof(a)=="function"},isFunction:function(a){return typeof(a)=="function"},isString:function(a){return typeof(a)=="string"},isInt:function(a){return parseInt(a)==a},isNumeric:function(a){if(!this.isString(a)){return false}return(/^[\d]+((^\.{1}[\d]+$){0,1}|[\d])$/).test(a)},FN:function(){}};OTR.apply=function(){var e=arguments.length;var b=arguments[0];for(var c=0;c<e;c++){var d=arguments[c];if(!OTR.Util.isObject(d)){continue}for(var a in d){b[a]=d[a]}}return b};OTR.apply(OTR,{override:function(b,c){if(c){var a=b.prototype;OTR.apply(a,c);if(OTR.Client.browser(OTR.Client.MSIE)&&c.toString!=b.toString){a.toString=c.toString}}},extend:function(d,f){if(typeof d!="function"){}var g=Object.prototype.constructor,c=f.constructor!=g?f.constructor:function(){d.apply(this,arguments)},a=d.prototype,e=function(){};e.prototype=a;var b=c.prototype=new e();b.constructor=c;c.__super=a;if(a.constructor==g){a.constructor=d}OTR.override(c,f);b.__super=(function(){return a});return c}});OTR.Client={WINDOWS:"Windows",LINUX:"Linux",MAC:"Macintosh",IPHONE:"iPhone",IPAD:"iPad",ANDROID:"Android",WINDOWSPHONE:"Windows Phone OS",WINDOWSMOBILE:"Windows CE",BLACKBERRY:"BlackBerry",SYMBIAN:"SymbianOS",MSIE:"msie",MOZILLA:"mozilla",WEBKIT:"webkit",OPERA:"opera",UNKNOWN:"unknown",browser:function(a){if(undefined===this._browser){this._matchUA()}if(undefined!==a){return a==this._browser}return this._browser},version:function(a){if(undefined===this._version){this._matchUA()}if(undefined!==a){return OTR.Util.versionCompare(a,this._version)}return this._version},platform:function(f){if(undefined===this._platform){var e=[/(Windows)[\s]?[^Phone|CE]/,/(Linux)/,/(Macintosh)/,/(iPhone)/,/(iPad)/,/(Android)/,/(Windows[\s]?Phone[\s]?OS)/,/(Windows[\s]?CE)/,/(BlackBerry)/,/(SymbianOS)/],d=this.ua();this._platform=this.UNKNOWN;for(var b=0,g=e.length;b<g;b++){var a=null;if(null!==(a=e[b].exec(d))){this._platform=a[1];break}}}if(undefined!==f){return f==this._platform}return this._platform},ua:function(){if(undefined===this._ua){this._ua=navigator.userAgent}return this._ua},_matchUA:function(){var a=/(webkit)[\/]([\w.]+)/i,f=/(opera)(?:.*version)?[\/]([\w.]+)/i,e=/(msie)[\s]?([\w.]+)/i,b=/(mozilla)(?:.*? rv:([\w.]+))?/i,d=this.ua();var c=e.exec(d)||a.exec(d)||b.exec(d)||f.exec(d);if(null!==c){this._browser=c[1].toLowerCase();this._version=c[2];return}this._browser=this.UNKNOWN;this._version=null}};OTR.Context={_scopes:{_default:{}},set:function(a,c,b){if(undefined===b){b="_default"}if(!OTR.Util.isString(a)||!OTR.Util.isString(a)){return this}this._scopes[b]=c;return this},get:function(a,b){if(undefined===b){b="_default"}return this._scopes[b][a]},unset:function(a,b){if(undefined===b){b="_default"}delete this._scopes[b][a];return this},exists:function(a,b){if(undefined===b){b="_default"}return undefined!==this._scopes[b][a]},createScope:function(a){if(undefined!==this._scopes[a]||!OTR.Util.isString(a)){return this}this._scopes[a]={};return this},destroyScope:function(a){if(!OTR.Util.isString(a)||undefined!==this._scopes[a]){delete this._scopes[a]}return this},exports:function(a,b){window[a]=this.get(a,b);return window[a]}};